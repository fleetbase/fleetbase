<Overlay
    @onLoad={{this.setOverlayContext}}
    @onOpen={{this.onOpen}}
    @onClose={{this.onClose}}
    @onToggle={{this.onToggle}}
    @position="right"
    @noBackdrop={{true}}
    @fullHeight={{true}}
    @isResizable={{or this.isResizable @isResizable}}
    @width={{or this.width @width "570px"}}
>
    <Overlay::Header
        @title={{(this.order.public_id)}}
        @status={{this.order.public_id}}
        @hideStatusDot={{true}}
        @createdAt={{this.order.createdAt}}
    >
        <Button
            @type="default"
            @icon="pen"
            @onClick={{this.onEdit}}
            @wrapperClass="mr-2"
            @permission="fleet-ops update leave-request"
        />
        <Button
            @type="default"
            @icon="times"
            @onClick={{this.onPressCancel}}
        />
    </Overlay::Header>

    <Overlay::Body class="no-padding">
        {{#if this.hasTabs}}
            <div class="section-header-actions w-full overflow-x-scroll lg:overflow-x-auto">
                <div class="ui-tabs mt-4">
                    <nav>
                        {{#each this.tabs as |tab|}}
                            <a href="javascript:;" class="ui-tab {{if (eq this.tab.slug tab.slug) 'active'}}" {{on "click" (fn this.onTabChanged tab.slug)}}>
                                <FaIcon @icon={{tab.icon}} class="mr-1" />
                                <span>{{tab.title}}</span>
                            </a>
                        {{/each}}
                    </nav>
                </div>
            </div>
            <div class="tab-content tab-{{this.tab.slug}}">
                {{component this.tab.component order=this.order tabOptions=this.tab options=this.tab.componentParams}}
            </div>
        {{else}}
            <div class="p-4 grid grid-cols-1 gap-3 text-xs dark:text-gray-100">
                <div class="flex items-center justify-between">
                    <span class="text-gray-500 dark:text-gray-400">{{t "fleet-ops.operations.orders.index.vehicle-assigned"}}</span>
                    <span class="font-medium">{{n-a this.order.vehicle.display_name}}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-gray-500 dark:text-gray-400">{{t "fleet-ops.common.schedule"}}</span>
                    <span class="font-medium">{{n-a (format-date this.order.scheduledAt)}}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-gray-500 dark:text-gray-400">{{t "fleet-ops.operations.orders.index.estimated-end-date"}}</span>
                    <span class="font-medium">{{n-a (format-date this.order.estimatedEndDate)}}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-gray-500 dark:text-gray-400">{{t "fleet-ops.component.maintenance-schedule-form-panel.notes"}}</span>
                    <span class="font-medium">{{n-a this.order.notes}}</span>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-gray-500 dark:text-gray-400">{{t "fleet-ops.common.created-at"}}</span>
                    <span class="font-medium">{{n-a (format-date this.order.createdAt)}}</span>
                </div>
            </div>
        {{/if}}
        <Spacer @height="300px" />
    </Overlay::Body>
</Overlay>
