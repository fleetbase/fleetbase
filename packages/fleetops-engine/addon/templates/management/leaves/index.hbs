<Layout::Section::Header @title={{t "fleet-ops.management.leaves.index.title" }} @searchQuery={{this.query}}
    @onSearch={{perform this.search}}>
    <Button @icon="question-circle" @type="default" @text={{t "fleetbase.common.help"}} class="mr-2 help-tour-btn" @onClick={{this.startLeavesTour}} />
    <Button @icon="refresh" @onClick={{this.reload}} @helpText={{t "fleet-ops.common.reload-data" }} class="mr-2" />
    
    <FiltersPicker @columns={{this.columns}} @onApply={{fn this.filters.apply this}} @onClear={{fn this.filters.reset
        this}} @onFilterClear={{this.filters.clear}} @onChange={{this.filters.set}} @buttonWrapperClass="mr-2" />
    <VisibleColumnPicker @columns={{this.columns}} @onChange={{fn (mut this.columns)}} class="mr-2" />
    {{#if (safe-has this.table "selectedRows")}}
    <DropdownButton @icon="layer-group" @text={{t "fleet-ops.common.bulk-action" }} @type="magic" @size="sm"
        @buttonWrapperClass="mr-2" @contentClass="dropdown-menu" @permission="fleet-ops delete leaves" as |dd|>
        <div class="next-dd-menu mt-2 mx-0">
            <div class="px-1">
                <a href="#" class="text-red-500 next-dd-item" {{on "click" (dropdown-fn dd this.bulkDeleteleaves)}}>
                    {{t "fleet-ops.management.leaves.index.delete-leaves-reports"}}
                </a>
            </div>
        </div>
    </DropdownButton>
    {{/if}}

    {{!-- <Button @icon="plus" @iconPrefix="fas" @type="primary" @text={{t "fleet-ops.common.new" }} class="mr-2"
        @onClick={{this.createFuelReport}} @permission="fleet-ops create leaves" /> --}}
    {{!-- <Button @icon="upload" @type="magic" @text={{t "fleet-ops.common.import" }} @wrapperClass="hidden md:flex"
        @onClick={{this.importleaves}} @permission="fleet-ops import leaves" class="mr-2" /> --}}
    {{!-- <Button @icon="long-arrow-up" @iconClass="rotate-icon-45" @text={{t "fleet-ops.common.export" }}
        @onClick={{this.exportLeaves}} @permission="fleet-ops export leaves" /> --}}
</Layout::Section::Header>

<Layout::Section::Body @pagination={{true}} @onToggleAll={{this.toggleAll}} @allToggled={{this.allToggled}}>
    <Table @rows={{@model.data}} @columns={{this.columns}} @selectable={{true}} @canSelectAll={{true}} @onSetup={{fn
        (mut this.table)}} @pagination={{true}} @paginationMeta={{@model.meta}} @page={{this.page}} @onPageChange={{fn
        (mut this.page)}} />
</Layout::Section::Body>

{{outlet}}